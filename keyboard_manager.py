import configparser
import json
import random

from telebot.types import InlineKeyboardButton, InlineKeyboardMarkup, ReplyKeyboardMarkup

import actions_manager
import bot_manager

config=configparser.ConfigParser()
config.read("config.ini", encoding='utf-8')

class Keyboard():
    """–ö–Ω–æ–ø–∫–∏"""

    BUTTONS_MENU = [
        ('üñº–ú–µ–¥–∏–∞','‚öôÔ∏è–ü–ö', 'üì±–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',),
        ('üóÇ–ü—Ä–æ–≥—Ä–∞–º–º—ã','üß†ChatGPT', 'ü™Ñ–°—Ü–µ–Ω–∞—Ä–∏–∏',),
        ('üåê–ò–Ω—Ç–µ—Ä–Ω–µ—Ç',),
    ]
    BUTTONS_VIDEO = [
        ('–ó–≤—É–∫üîà',),
        ('üîâ', 'üîá', 'üîä'),
        ('‚¨ÖÔ∏è','‚è∏','‚û°Ô∏è',),
        ('‚óÄÔ∏è–í–∏–¥–µ–æ', '–í–∏–¥–µ–æ‚ñ∂Ô∏è',),
        ('üñ•–í–æ –≤–µ—Å—å —ç–∫—Ä–∞–Ω',),
        ('üîó–û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É',),
        ('üß©–ú–µ–Ω—é', 'üñº–ú–µ–¥–∏–∞',),
    ]
    BUTTONS_MUSIC = [
        ('–ó–≤—É–∫üîà',),
        ('üîâ', 'üîá', 'üîä'),
        ('‚èÆ', '‚èØ', '‚è≠'),
        ('üß©–ú–µ–Ω—é', 'üñº–ú–µ–¥–∏–∞',),
    ]
    BUTTONS_MEDIA = [
        ('üìπ–í–∏–¥–µ–æ',),
        ('üéß–ú—É–∑—ã–∫–∞',),
        ('üß©–ú–µ–Ω—é',),
    ]
    BUTTONS_CONTROL_PC = [
            ('üñ•–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ü–ö', 'üìÅ–ü–∞–ø–∫–∏'),
            ('üîí–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞', '‚òÄÔ∏è–Ø—Ä–∫–æ—Å—Ç—å', '‚ùå–ó–∞–∫—Ä—ã—Ç—å',),
            ('üñº–°–º–µ–Ω–∏—Ç—å –æ–±–æ–∏','üí¨–°–º—Å –Ω–∞ —ç–∫—Ä–∞–Ω', 'üóë–û—á–∏—Å—Ç–∏ –∫–æ—Ä–∑–∏–Ω—É',),
            ('üñº–°–∫—Ä–∏–Ω –í–µ–±-–∫–∞–º–µ—Ä—ã', 'üñº–°–∫—Ä–∏–Ω',),
            ('üîã–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏–µ–º –ü–ö','‚å®Ô∏è–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–≤–∞–π—Å–∞–º–∏ –ü–ö',),
            ('üóí–î–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á',),
            ('üß©–ú–µ–Ω—é',),
    ]
    BUTTONS_CONTROL_POWER =[
        ('üò¥–°–ø—è—â–∏–π —Ä–µ–∂–∏–º', 'üí§–ì–∏–±–µ—Ä–Ω–∞—Ü–∏—è','üîÑ–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞',),
        ('üö´–í—ã–∫–ª—é—á–µ–Ω–∏–µ –ü–ö',),
        ('‚è≥–¢–∞–π–º–µ—Ä –Ω–∞ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ –ü–ö',),
        ('‚ùå–û—Ç–º–µ–Ω–∞ —Ç–∞–π–º–µ—Ä–∞',),
        ('üß©–ú–µ–Ω—é','‚öôÔ∏è–ü–ö',),
    ]
    BUTTONS_CONTROL_DEVICES = [
        ('üñ±–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—ã—à–∫–æ–π',),
        ('‚å®Ô∏è–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π',),
        ('üñ•–û—Ç–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä',),
        ('üß©–ú–µ–Ω—é','‚öôÔ∏è–ü–ö',),
    ]
    BUTTONS_CONTROL_MOUSE = [
        ('–õ–ö–ú','–ü–ö–ú',),
        ('üîº',),
        ('‚óÄÔ∏è','üîΩ','‚ñ∂Ô∏è',),
        ('üñ±–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–æ X,Y',),
        ('üß©–ú–µ–Ω—é','‚å®Ô∏è–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–≤–∞–π—Å–∞–º–∏ –ü–ö',),
    ]
    BUTTONS_INFO = [
            ('üíµ–î–æ–ª–ª–∞—Ä','ü§ë–ë–∏—Ç–∫–æ–∏–Ω','üí∂–ï–≤—Ä–æ',),
            ('‚õÖÔ∏è–ü–æ–≥–æ–¥–∞','üïò–î–∞—Ç–∞',),
            ('üß©–ú–µ–Ω—é',),
    ]
    BUTTONS_INTERNET = [
            ('üåêSpeedtest',),
            ('üîó–û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É',),
            ('üß©–ú–µ–Ω—é',),
    ]
    BUTTONS_CONTROL_BRIGHTNESS = [
        ( '‚òÄÔ∏è100%',),
        ('‚òÄÔ∏è25%', '‚òÄÔ∏è50%', '‚òÄÔ∏è75%',),
        ('‚òÄÔ∏è0%',),
        ('üß©–ú–µ–Ω—é','‚öôÔ∏è–ü–ö',),
    ]
    BUTTONS_CONTROL_KEYBOARD = [
        ('‚úçÔ∏è–í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞',),
        ('üî†–ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏',),
        ('üß©–ú–µ–Ω—é','‚å®Ô∏è–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–≤–∞–π—Å–∞–º–∏ –ü–ö',),
    ]

    BUTTONS_ADMIN = [
        ('üîê–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å',),
        ('üßπ–û—á–∏—Å—Ç–∏—Ç—å –ø–∞–ø–∫—É Temp',),
        ('üß©–ú–µ–Ω—é',),
    ]

    def add_buttons(self) -> ReplyKeyboardMarkup:
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button_row in Keyboard().BUTTONS_MENU:
            buttons.row(*button_row)
            
        if actions_manager.Actions().check_if_admin():
            buttons.row('‚ö†Ô∏è–ê–¥–º–∏–Ω')

        if config.getboolean('Settings', 'jarvis'):
            buttons.row('ü§ñ–ö–æ–º–∞–Ω–¥–∞ –î–∂–∞—Ä–≤–∏—Å—É')

        return buttons
    
    def add_buttons_admin(self, chat_id) -> None:
        """–î–æ–±–∞–≤–ª–µ–Ω–µ –∫–Ω–æ–ø–æ–∫ –∞–¥–º–∏–Ω–∞."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_ADMIN:
            menu = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                        '‚ö†Ô∏è–ê–¥–º–∏–Ω',
                        reply_markup=menu) 

    def add_buttons_music(self, chat_id) -> None:
        """–î–æ–±–∞–≤–ª–µ–Ω–µ –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—É–∑—ã–∫–æ–π."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_MUSIC:
            menu = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                        'üéß–ú—É–∑—ã–∫–∞',
                        reply_markup=menu)            
    
    def add_buttons_video(self, chat_id) -> None:
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ –∫–Ω–æ–ø–æ–∫."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_VIDEO:
            menu = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                        'üìπ–í–∏–¥–µ–æ',
                        reply_markup=menu)

    def add_buttons_menu(self, chat_id) -> ReplyKeyboardMarkup:
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button_row in Keyboard().BUTTONS_MENU:
            buttons.row(*button_row)
            
        if actions_manager.Actions().check_if_admin():
            buttons.row('‚ö†Ô∏è–ê–¥–º–∏–Ω')

        if config.getboolean('Settings', 'jarvis'):
            buttons.row('ü§ñ–ö–æ–º–∞–Ω–¥–∞ –î–∂–∞—Ä–≤–∏—Å—É')

        bot_manager.Telegram().bot.send_message(chat_id, 
                            'üß©–ú–µ–Ω—é',
                            reply_markup=buttons
        )

    def add_buttons_media(self, chat_id) -> None:
        """–ú–µ–¥–∏–∞ –º–µ–Ω—é."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_MEDIA:
            menu_media = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id,
                            'üñº–ú–µ–¥–∏–∞',
                            reply_markup=menu_media)
        
    def add_buttons_control_pc(self, chat_id) -> None:
        """–ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ü–ö."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_CONTROL_PC:
            menu_pc = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                            '‚öôÔ∏è–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ü–ö',
                            reply_markup=menu_pc)

    def add_buttons_control_power(self, chat_id) -> None:
        """–ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ç–∞–Ω–∏–µ–º –ü–ö."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_CONTROL_POWER:
            menu_pc = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                            'üîã–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏–µ–º –ü–ö',
                            reply_markup=menu_pc)

    def add_buttons_control_devices(self, chat_id) -> None:
        """–ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–≤–∞–π—Å–∞–º–∏."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_CONTROL_DEVICES:
            menu_pc = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                            '‚å®Ô∏è–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–≤–∞–π—Å–∞–º–∏ –ü–ö',
                            reply_markup=menu_pc)

    def add_buttons_control_mouse(self, chat_id) -> None:
        """–ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—ã—à—å—é."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_CONTROL_MOUSE:
            menu_pc = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                            'üñ±–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—ã—à–∫–æ–π',
                            reply_markup=menu_pc)
    
    def add_buttons_control_keyboard(self, chat_id) -> None:
        """–ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_CONTROL_KEYBOARD:
            menu_pc = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                            '‚å®Ô∏è–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π',
                            reply_markup=menu_pc)
        
    def add_buttons_info(self, chat_id) -> None:
        """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_INFO:
            menu_info = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                            'üì±–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
                            reply_markup=menu_info)
        
    def add_buttons_internet(self, chat_id) -> None:
        """–ò–Ω—Ç–µ—Ä–Ω–µ—Ç –º–µ–Ω—é."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_INTERNET:
            menu_info = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                            'üåê–ò–Ω—Ç–µ—Ä–Ω–µ—Ç',
                            reply_markup=menu_info)
    
    def add_buttons_script(self, chat_id) -> None:
        """–ú–µ–Ω—é –ø—Ä–æ–≥—Ä–∞–º–º."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        emoji = ['‚ù§Ô∏è','üß°','üíõ','üíö','üíô','üíú']
        row_button = []
        BUTTONS = []
        
        with open('data_script.json', encoding='utf-8') as f:
            data = json.load(f)
        
        for script in data:
            btn = f'–°—Ü–µ–Ω–∞—Ä–∏–π {script["name"]} {random.choice(emoji)}'
            if len(row_button) < 3:
                row_button.append(btn)
            else:
                BUTTONS.append(row_button)
                row_button = []
                row_button.append(btn)
        BUTTONS.append(row_button)
        
        for button in BUTTONS:
            menu_info = buttons.row(*button)
        
        menu_info = buttons.row('üß©–ú–µ–Ω—é')
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                            'ü™Ñ–°—Ü–µ–Ω–∞—Ä–∏–∏',
                            reply_markup=menu_info)

    def add_buttons_program(self, chat_id) -> None:
        """–ú–µ–Ω—é –ø—Ä–æ–≥—Ä–∞–º–º."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        emoji = ['‚ù§Ô∏è','üß°','üíõ','üíö','üíô','üíú']
        row_button = []
        BUTTONS = []
        
        with open('data_program.json', 'r', encoding='utf-8') as f:
            data = json.load(f)
        
        for programm in enumerate(data):
            btn = f'–û—Ç–∫—Ä—ã—Ç—å {programm[1]["name"]} {random.choice(emoji)}'
            if len(row_button) < 3:
                row_button.append(btn)
            else:
                BUTTONS.append(row_button)
                row_button = []
                row_button.append(btn)
        BUTTONS.append(row_button)
        
        for button in BUTTONS:
            menu_info = buttons.row(*button)
        
        menu_info = buttons.row('üß©–ú–µ–Ω—é')
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                            'üóÇ–ü—Ä–æ–≥—Ä–∞–º–º—ã',
                            reply_markup=menu_info)
    
    def add_buttons_brightness(self, chat_id) -> None:
        """–ú–µ–Ω—é —è—Ä–∫–æ—Å—Ç–∏."""
        buttons = ReplyKeyboardMarkup(resize_keyboard=True)
        
        for button in Keyboard().BUTTONS_CONTROL_BRIGHTNESS:
            menu_info = buttons.row(*button)
        
        bot_manager.Telegram().bot.send_message(chat_id, 
                            '‚òÄÔ∏è–Ø—Ä–∫–æ—Å—Ç—å',
                            reply_markup=menu_info)